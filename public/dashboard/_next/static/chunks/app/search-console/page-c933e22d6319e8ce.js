(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[271],{46336:function(e,r,t){Promise.resolve().then(t.bind(t,52210))},52210:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return x}});var s=t(57437),n=t(2265),a=t(71811),l=t(66070),c=t(73578),i=t(68755);let o=(0,i.Z)("mouse-pointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]),d=(0,i.Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),u=(0,i.Z)("percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);var f=t(70525);function x(){let[e,r]=(0,n.useState)(null),[t,i]=(0,n.useState)([]),[x,m]=(0,n.useState)(!0),[h,p]=(0,n.useState)("28"),g=(0,n.useCallback)(async()=>{try{let e=await fetch("/api/search-console?days=".concat(h)),t=await e.json();t.success&&(r(t.data.summary||null),i(t.data.queries||[]))}catch(e){console.error("Error fetching search console data:",e)}finally{m(!1)}},[h]);if((0,n.useEffect)(()=>{g()},[g]),x)return(0,s.jsx)(a.Z,{children:(0,s.jsx)("div",{className:"flex h-[calc(100vh-10rem)] items-center justify-center",children:(0,s.jsx)("div",{className:"text-muted-foreground",children:"読み込み中..."})})});let j=e||{totalClicks:0,totalImpressions:0,avgCtr:0,avgPosition:0},b=[{title:"クリック数",value:j.totalClicks.toLocaleString(),icon:o},{title:"表示回数",value:j.totalImpressions.toLocaleString(),icon:d},{title:"CTR",value:"".concat((100*j.avgCtr).toFixed(1),"%"),icon:u},{title:"平均順位",value:j.avgPosition.toFixed(1),icon:f.Z}];return(0,s.jsx)(a.Z,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:"Search Console"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"検索パフォーマンスデータ"})]}),(0,s.jsxs)("select",{className:"rounded-md border border-input bg-background px-3 py-2 text-sm",value:h,onChange:e=>p(e.target.value),children:[(0,s.jsx)("option",{value:"7",children:"過去7日間"}),(0,s.jsx)("option",{value:"28",children:"過去28日間"}),(0,s.jsx)("option",{value:"90",children:"過去90日間"})]})]}),(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:b.map(e=>(0,s.jsxs)(l.Zb,{children:[(0,s.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(l.ll,{className:"text-sm font-medium",children:e.title}),(0,s.jsx)(e.icon,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(l.aY,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:e.value})})]},e.title))}),(0,s.jsxs)(l.Zb,{children:[(0,s.jsx)(l.Ol,{children:(0,s.jsx)(l.ll,{className:"text-lg",children:"上位クエリ"})}),(0,s.jsx)(l.aY,{children:0===t.length?(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"データがありません。Search Console APIを接続してください。"}):(0,s.jsxs)(c.iA,{children:[(0,s.jsx)(c.xD,{children:(0,s.jsxs)(c.SC,{children:[(0,s.jsx)(c.ss,{children:"クエリ"}),(0,s.jsx)(c.ss,{className:"text-right",children:"クリック"}),(0,s.jsx)(c.ss,{className:"text-right",children:"表示"}),(0,s.jsx)(c.ss,{className:"text-right",children:"CTR"}),(0,s.jsx)(c.ss,{className:"text-right",children:"順位"})]})}),(0,s.jsx)(c.RM,{children:t.map((e,r)=>(0,s.jsxs)(c.SC,{children:[(0,s.jsx)(c.pj,{className:"font-medium",children:e.query}),(0,s.jsx)(c.pj,{className:"text-right",children:e.clicks}),(0,s.jsx)(c.pj,{className:"text-right",children:e.impressions}),(0,s.jsxs)(c.pj,{className:"text-right",children:[(100*e.ctr).toFixed(1),"%"]}),(0,s.jsx)(c.pj,{className:"text-right",children:e.position.toFixed(1)})]},r))})]})})]})]})})}},71811:function(e,r,t){"use strict";t.d(r,{Z:function(){return j}});var s=t(57437),n=t(82431),a=t(98728),l=t(62869);function c(e){let{onRefresh:r,isRefreshing:t}=e;return(0,s.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,s.jsxs)("div",{className:"flex h-14 items-center px-6",children:[(0,s.jsx)("div",{className:"flex flex-1 items-center",children:(0,s.jsx)("h1",{className:"text-xl font-bold",children:"S-Hub Dashboard"})}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[r&&(0,s.jsxs)(l.z,{variant:"outline",size:"sm",onClick:r,disabled:t,children:[(0,s.jsx)(n.Z,{className:"h-4 w-4 mr-2 ".concat(t?"animate-spin":"")}),"今すぐ更新"]}),(0,s.jsx)(l.z,{variant:"ghost",size:"icon",children:(0,s.jsx)(a.Z,{className:"h-4 w-4"})})]})]})})}var i=t(27648),o=t(99376),d=t(25466),u=t(11239),f=t(44794),x=t(73247),m=t(10407),h=t(94508);let p=[{name:"ダッシュボード",href:"/",icon:d.Z},{name:"自動化",href:"/workflows",icon:u.Z},{name:"リリース履歴",href:"/releases",icon:f.Z},{name:"Search Console",href:"/search-console",icon:x.Z}];function g(){let e=(0,o.usePathname)();return(0,s.jsx)("aside",{className:"fixed left-0 top-14 z-40 h-[calc(100vh-3.5rem)] w-64 border-r bg-background",children:(0,s.jsx)("nav",{className:"flex flex-col gap-1 p-4",children:p.map(r=>{let t=e===r.href;return(0,s.jsxs)(i.default,{href:r.href,className:(0,h.cn)("flex items-center gap-3 rounded-lg px-3 py-2 text-sm transition-colors",t?"bg-secondary text-secondary-foreground":"text-muted-foreground hover:bg-secondary/50 hover:text-secondary-foreground"),children:[(0,s.jsx)(r.icon,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"flex-1",children:r.name}),t&&(0,s.jsx)(m.Z,{className:"h-4 w-4"})]},r.name)})})})}function j(e){let{children:r,onRefresh:t,isRefreshing:n}=e;return(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)(c,{onRefresh:t,isRefreshing:n}),(0,s.jsx)(g,{}),(0,s.jsx)("main",{className:"ml-64 min-h-[calc(100vh-3.5rem)] p-6",children:r})]})}},62869:function(e,r,t){"use strict";t.d(r,{z:function(){return o}});var s=t(57437),n=t(2265),a=t(85293),l=t(90535),c=t(94508);let i=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=n.forwardRef((e,r)=>{let{className:t,variant:n,size:l,asChild:o=!1,...d}=e,u=o?a.g7:"button";return(0,s.jsx)(u,{className:(0,c.cn)(i({variant:n,size:l,className:t})),ref:r,...d})});o.displayName="Button"},66070:function(e,r,t){"use strict";t.d(r,{Ol:function(){return c},SZ:function(){return o},Zb:function(){return l},aY:function(){return d},ll:function(){return i}});var s=t(57437),n=t(2265),a=t(94508);let l=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("div",{ref:r,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...n})});l.displayName="Card";let c=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("div",{ref:r,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",t),...n})});c.displayName="CardHeader";let i=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("h3",{ref:r,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",t),...n})});i.displayName="CardTitle";let o=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("p",{ref:r,className:(0,a.cn)("text-sm text-muted-foreground",t),...n})});o.displayName="CardDescription";let d=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("div",{ref:r,className:(0,a.cn)("p-6 pt-0",t),...n})});d.displayName="CardContent",n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("div",{ref:r,className:(0,a.cn)("flex items-center p-6 pt-0",t),...n})}).displayName="CardFooter"},73578:function(e,r,t){"use strict";t.d(r,{RM:function(){return i},SC:function(){return o},iA:function(){return l},pj:function(){return u},ss:function(){return d},xD:function(){return c}});var s=t(57437),n=t(2265),a=t(94508);let l=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:r,className:(0,a.cn)("w-full caption-bottom text-sm",t),...n})})});l.displayName="Table";let c=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("thead",{ref:r,className:(0,a.cn)("[&_tr]:border-b",t),...n})});c.displayName="TableHeader";let i=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("tbody",{ref:r,className:(0,a.cn)("[&_tr:last-child]:border-0",t),...n})});i.displayName="TableBody",n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("tfoot",{ref:r,className:(0,a.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...n})}).displayName="TableFooter";let o=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("tr",{ref:r,className:(0,a.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...n})});o.displayName="TableRow";let d=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("th",{ref:r,className:(0,a.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...n})});d.displayName="TableHead";let u=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("td",{ref:r,className:(0,a.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...n})});u.displayName="TableCell",n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("caption",{ref:r,className:(0,a.cn)("mt-4 text-sm text-muted-foreground",t),...n})}).displayName="TableCaption"},94508:function(e,r,t){"use strict";t.d(r,{cn:function(){return a}});var s=t(61994),n=t(53335);function a(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,n.m6)((0,s.W)(r))}},70525:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(68755).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])}},function(e){e.O(0,[794,971,117,744],function(){return e(e.s=46336)}),_N_E=e.O()}]);